import{S as i,r as a,T as f,U as o}from"./index-31c171b2.js";function l(c=!0){const n=i(),e=a({});function r(s){u();const t=o.subscribe(s);return e.subject=t,t}function u(){e.subject&&(e.subject.unsubscribe(),e.subject=null)}return f(()=>{c&&u()}),{loading:n.loading,subscribe:r,onRefresh:r,onAutoRefresh(s){u();const t=o.subscribe(async b=>{await s(b),n.toggleLoading(!1)});return e.subject=t,t},unSubscribe:u,getSubject(){return e.subject},toggleLoading(s){n.toggleLoading(s)}}}export{l as u};
