import{B as u,D as b,G as C,H as B,n as o,I as k,J as S,y as I,u as D,K as N,j as c,k as O,l as P,m as e,p as i,L as d,x as _,w as p,v as T,F as j,A as V,C as z,_ as A,s as H,M as L,N as M,g as R}from"./index-31c171b2.js";import{u as U}from"./useRefresh-f06aa801.js";let r;const F={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let E=u({},F);function W(){({instance:r}=C({setup(){const{state:n,toggle:s}=B();return()=>o(S,k(n,{"onUpdate:show":s}),null)}}))}function $(t){return b?new Promise((n,s)=>{r||W(),r.open(u({},E,t,{callback:a=>{(a==="confirm"?n:s)(a)}}))}):Promise.resolve()}const G=t=>$(u({showCancelButton:!0},t)),f=t=>(L("data-v-0b31ec14"),t=t(),M(),t),J={class:"tw-relative tw-flex tw-flex-col tw-justify-between header-box"},K=f(()=>e("div",{class:"tw-bg-red-500 tw-z-0 header-box-bg"},null,-1)),q={class:"tw-flex tw-z-0 tw-flex-row tw-px-15 tw-flex-1 header"},Q={class:"flex-row tw-text-white tw-leading-26 tw-px-15"},X={class:"tw-px-10"},Y={class:"tw-text-18"},Z={class:"tw-text-14 tw-text-gray-100"},ee={class:"tw-bg-white tw-z-0 tw-mx-15 tw-px-20 tw-rounded-12 tw-shadow-sm tw-flex tw-flex-row tw-justify-between account-box"},te={class:"tw-flex tw-flex-row tw-items-center tw-text-16 tw-text-dark"},se=f(()=>e("div",null,"我的卡包",-1)),oe={class:"tw-flex tw-flex-row tw-items-center"},ne={class:"tw-py-15"},ae=I({__name:"Mine",setup(t){const n=D(),s=N(),a=U();a.onRefresh(l=>{console.log("下拉刷新触发"),a.toggleLoading(!1)});async function m(){try{await G({title:"提示",message:"确定退出登录吗？"}),V.removeUserInfo(),await n.replace({name:z.loginRouteName})}catch(l){if(A.isString(l))return;H(l.message)}}return(l,w)=>{const h=c("van-image"),v=c("van-icon"),x=c("VanButton"),g=c("van-cell"),y=c("van-cell-group");return O(),P(j,null,[e("div",J,[K,e("div",q,[e("div",Q,[e("div",null,[o(h,{round:"",width:i(d)(50),height:i(d)(50),src:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg"},null,8,["width","height"])]),e("div",X,[e("div",Y,_(i(s).userinfo.info.nickname),1),e("div",Z,_(i(s).userinfo.info.sex==="female"?"男生":"女生"),1)])])]),e("div",ee,[e("div",te,[o(v,{class:"tw-text-16 tw-mr-5",name:"paid"}),se]),e("div",oe,[o(x,{onClick:w[0]||(w[0]=le=>l.$router.push({name:"coupons"})),class:"tw-px-10",size:"mini",type:"danger",round:""},{default:p(()=>[T(" 查看 ")]),_:1})])])]),e("div",ne,[o(y,{class:"tw-shadow-sm",inset:""},{default:p(()=>[o(g,{onClick:m,title:"退出登录","is-link":""})]),_:1})])],64)}}});const re=R(ae,[["__scopeId","data-v-0b31ec14"]]);export{re as default};
